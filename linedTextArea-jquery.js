!function(e){e.fn.linedTextArea=function(i){i=e.extend({},e.fn.linedTextArea.defaults,i);var n=function(e,n,t,a){for(;e.height()-n<0;)e.append(t==i.selectedLine?"<div class='line-number lineselect'>"+t+"</div>":"<div class='line-number' style='line-height:"+a+"'>"+t+"</div>"),t++;return t};return this.each(function(){var t=1,a=e(this);a.wrap("<div class='lined-textarea-container'></div>");var l=a.parent();l.prepend("<div class='lines'></div>");var r=l.find(".lines");r.append("<div class='linesContainer'></div>");var s=r.find(".linesContainer");a.addClass("lined-textarea"),a.attr("wrap","off"),a.attr("autocomplete","off"),a.attr("autocorrect","off"),a.attr("autocapitalize","off"),a.attr("spellcheck","false");var c=a.css("line-height");if(lineNo=n(s,r.height(),t,c),-1!=i.selectedLine&&!isNaN(i.selectedLine)){var d=parseInt(a.height()/lineNo),o=d*i.selectedLine;a[0].scrollTop=o}a.scroll(function(){var i=e(this)[0],t=i.scrollTop,a=i.clientHeight;s.css({"margin-top":-1*t+"px"}),lineNo=n(s,t+a,lineNo,c)})})},e.fn.linedTextArea.defaults={selectedLine:-1}}(jQuery);